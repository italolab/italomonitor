<?xml version="1.0" encoding="UTF-8"?>
<configuration scan="true" scanPeriod="30 seconds">
	<include resource="org/springframework/boot/logging/logback/defaults.xml"/>
    <include resource="org/springframework/boot/logging/logback/console-appender.xml"/>
    
    <!--appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    	<target>System.out</target>
    	
    	<filter class="ch.qos.logback.classic.filter.LevelFilter">
    		<level>INFO</level>
    		<onMatch>ACCEPT</onMatch>
    		<onMismatch>DENY</onMismatch>
    	</filter>
        
    	<encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n</pattern>
            <charset>UTF-8</charset>
        </encoder>
    </appender-->
    
    <appender name="LOGSTASH" class="net.logstash.logback.appender.LogstashTcpSocketAppender">
    	<destination>${LOGSTASH_HOST:-localhost:5044}</destination>
    	<reconnectionDelay>5000</reconnectionDelay>
    	
    	<filter class="ch.qos.logback.classic.filter.LevelFilter">
    		<level>WARN</level>
    		<onMatch>ACCEPT</onMatch>
    		<onMismatch>DENY</onMismatch>
    	</filter>
    	
    	<encoder class="net.logstash.logback.encoder.LogstashEncoder"/>
    </appender>
            
    <root level="INFO">
    	<appender-ref ref="CONSOLE" />
    	<!--appender-ref ref="LOGSTASH" /-->
    </root>
</configuration>